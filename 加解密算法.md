#### 对称加密

采用单钥密码系统的加密方法，用同一密钥对信息进行的加密和解密，也称为单密钥加密。在对称加密算法中常用的算法有：DES、3DES、AES等。对称加密算法的优点是算法公开、计算量小、加密速度快、加密效率高。缺点是安全性较差，如果秘钥被泄露，那么加密信息也就不安全了。

#### 非对称加密

非对称加密算法需要两个密钥：公钥（publickey）和私钥（privatekey）。公钥与私钥一一对应，如果用公钥对数据进行加密，只有用对应的私钥才能解密；如果用私钥对数据进行加密，那么只有用对应的公钥才能解密。

由于加密和解密使用的是两个不同的密钥，且私钥泄密风险小，所以非对称加密算法安全性较高。非对称加密的缺点就是加解密需要的计算量较大，所以一般来说只用于少量数据加密。

非对称加密算法使用最广泛的就是RSA算法。



####  数字签名

非对称加密算法有效保证了敏感数据的保护，但却存在以下问题，即中间转发者也知道公钥，这样它虽不能解密信息，但可以替换原发送者的信息。

**数字签名技术是将摘要信息用发送者的私钥加密，与原文一起传送给接收者。接收者只有用发送者的公钥才能解密被加密的摘要信息，然后对收到的原文产生一个摘要信息，与解密的摘要信息对比**。如果相同，则说明收到的信息是完整的，在传输过程中没有被修改，否则说明信息被修改过，因此数字签名能够验证信息的完整性。

数字签名的主要作用包括：保证信息传输的完整性、发送者的身份认证、防止交易中的抵赖发生、防止数据篡改。



#### 数字证书

非对称加密算法中存在**中间人攻击**的问题，即接收者收到的公钥并不能保证是密钥的所有者发送的那个。即，A要将自己的公钥发送给C，但是在链路中需要B中转，这样B在收到A的公钥后可以替换为自己的公钥再发送给C。这样C对A发送的所有数据，中转者B都可以使用自己的私钥进行解密，读取数据后再使用A的公钥对数据加密，之后再发送给A。这样就造成了敏感数据的泄露。

为此，可以引入一个权威的可信赖的第三方机构，即证书中心（certificate authority，简称CA），而由CA生成"数字证书"（Digital Certificate），一个标准的数字证书中通常包含以下内容：证书的颁发机构（CA）、证书有效期、证书的所有人（证书是发给谁的）、证书所有人的公钥（ 该证书所有人想要公布出去的公钥）、证书使用的签名算法、证书发行者对证书的数字签名。

这样A再给C发送消息时，可以附带上自己的数字证书，C验证证书后，可以获取证书中保存的A的公钥，这样就可以保证公钥确实来自于A。可见**数字证书实际上解决了公钥的安全发放问题**。



#### 数字摘要

数字摘要又称为数字指纹，它是采用单项Hash函数将一段数据“摘要”成一串固定长度（128位）的二进制串，且这一过程是不可逆的。而且不同的明文的摘要其结果总是不同的，而同样的明文其摘要必定一致。根据这一特性，数字摘要通常用于验证数据完整性和唯一性。MD5是通常用于计算摘要的散列算法。SHA256



### 例子

假设一个银行返回数据给我方的接口，为了保证传输中的数据安全，就需要银行使用我方的公钥对数据进行加密，为了保证银行发给的数据的完整性，防止数据篡改，就需要银行为数据生成数字摘要，然后使用银行自己的私钥为摘要加密。

所以，可以总结流程如下**：银行对数据生成数字摘要>银行使用自己的私钥对摘要信息加密->银行使用我方的公钥对数据加密-->银行将加密后的数据和摘要组包并发给我方->我方使用自己的私钥解密数据->我方对解密后的数据计算摘要->我方使用银行的公钥对摘要解密->对比摘要 （此时就可以保证信息传输的完整性、发送者的身份认证、防止交易中的抵赖发生、防止数据篡改）->确认摘要相同。**

从中可以看出，为了实现的目的不同，就需要使用不同的密钥对数据处理。





### 盐是什么

**盐（Salt），是指HASH之前，在内容（例如：密码）的任意固定位置插入特定的字符串。**这个在HASH中加入字符串的方式称为“加盐”。

### 为什么

通常情况字段HASH后的值一般是无法通过特定算法得到原始字段的。但是某些情况，比如一个大型的彩虹表，通过在表中搜索HASH后的值，很有可能在极短的时间内找到该HASH值对应的真实字段内容。

加盐后的HASH值，可以极大的降低由于用户数据被盗而带来的密码泄漏风险，即使通过彩虹表寻找HASH后的数值所对应的原始内容，但是由于经过了加盐，插入的字符串扰乱了真正的密码，使得获得真实密码的概率大大降低。

### 怎么办

通过以上介绍就可以看出，盐可以是随机产生的字符串，而且在大部分情况，盐是不需要保密的。其插入的位置也可以随意而定。当然，如果HASH散列结果在将来需要进行验证（例如：验证用户输入的密码），则需要将已使用的盐记录下来。

