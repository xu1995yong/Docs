## TCP与UDP区别

1. TCP面向连接，比如三握四挥；UDP是无连接的，即发送数据之前不需要建立连接
2. TCP提供可靠的服务。通过TCP连接传送的数据，无差错，不丢失，不重复，且按序到达；UDP尽最大努力交付，不保证可靠交付
3. TCP面向字节流，实际上是TCP把数据看成一连串无结构的字节流；UDP是面向报文的
4. TCP基于可靠通信，有确认机制，有拥塞控制算法。UDP没有确认机制和拥塞控制，因此网络出现拥塞不会使源主机的发送速率降低（对实时应用很有用，如IP电话，实时视频会议等）
5. 每一条TCP连接只能是点到点的;UDP支持一对一，一对多，多对一和多对多的交互通信
6. TCP首部开销20字节；UDP的首部开销小，只有8个字节



## TCP的三握四挥



## TCP的拥塞控制算法





## HTTP协议

HTTP协议即超文本传输协议，主要用途是从服务器传输超文本到本地浏览器，特点是简单灵活、无状态。

### HTTP请求报文

HTTP请求报文包括以下格式：请求行、请求头、空行、请求数据

常见的请求方法有四种：`GET`，`POST`，`PUT`，`DELETE`。其中：GET请求用于信息获取，应该是安全的和幂等的。POST请求可能修改变服务器上的资源。



![img](https://upload-images.jianshu.io/upload_images/2964446-fdfb1a8fce8de946.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/466/format/webp)



![âhttp è¯·æ±âçå¾çæç´¢ç"æ](https://upload-images.jianshu.io/upload_images/1461379-e27e2159621a6020.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/897/format/webp)



### HTTP响应报文

HTTP响应报文包含三个部分：状态行、响应头、空行、响应正文。

其中状态行由HTTP协议版本号， 状态码， 状态消息 三部分组成。





#### HTTP响应报文的状态码

状态代码有三位数字组成，第一个数字定义了响应的类别，共分五种类别:

- 1xx：指示信息--表示请求已接收，继续处理
- 2xx：成功--表示请求已被成功接收、理解、接受
- 3xx：重定向--要完成请求必须进行更进一步的操作
- 4xx：客户端错误--请求有语法错误或请求无法实现
- 5xx：服务器端错误--服务器未能实现合法的请求

常见状态码：

```java
200 OK                        //客户端请求成功
400 Bad Request               //客户端请求有语法错误，不能被服务器所理解
401 Unauthorized              //请求未经授权，这个状态代码必须和WWW-Authenticate报头域一起使用 
403 Forbidden                 //服务器收到请求，但是拒绝提供服务
404 Not Found                 //请求资源不存在，eg：输入了错误的URL
500 Internal Server Error     //服务器发生不可预期的错误
503 Server Unavailable    
```




![img](https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1552103205074&di=dc4055dd5e35ab8101feb2d8ec0c2036&imgtype=0&src=http%3A%2F%2Fs8.51cto.com%2Fwyfs01%2FM01%2F17%2F9A%2FwKioOVIgN5ngpbouAABR5IbM_Nw836.jpg)





### HTTP协议的版本

#### HTTP/1.0

HTTP 1.0默认使用短连接，即浏览器的每次请求都需要与服务器建立TCP连接，服务器完成请求处理后立即断开TCP连接。这样导致连接无法复用，耗费资源和性能。如果需要在HTTP1.0中使用长连接，需要添加请求头 Connection: Keep-Alive。

#### HTTP/1.1

HTTP 1.1默认使用长连接。

HTTP 1.1采用分块传输的机制，即产生一块数据，就发送一块。而不是等待所有操作完成后才统一返回数据。

#### HTTP/2.0

采用多路复用的方式，加快数据传输速度。

启用头部压缩。当我们不断地从同一个客户端访问服务器时，有很多重复的数据比如 cookie 数据，会在请求头上反复发送，增加带宽的使用以及延迟。为了解决这个问题，HTTP/2 引入了头压缩。所有头信息都会放在一张表里面，由客户端和服务器共同维护，随后的请求中省略任何重复的标题，使用一个索引号，服务端根据索引号从维护的表中引用它们。